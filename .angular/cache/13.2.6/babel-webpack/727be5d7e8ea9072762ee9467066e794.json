{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\user\\\\Desktop\\\\commentsAngular\\\\comments\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { DataService } from './data.service';\nlet AppComponent = class AppComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.allInfo = {};\n    this.allComments = [];\n  }\n\n  load() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.allInfo = yield _this.dataService.getUsers();\n      _this.allComments = _this.allInfo.comments;\n    })();\n  }\n\n  ngOnInit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.load();\n    })();\n  } //increment function\n\n\n  incrementScore(id) {\n    for (let i = 0; i < this.allComments.length; i++) {\n      if (this.allComments[i].id === id && this.allComments[i].score >= 0) {\n        this.allComments[i].score++;\n      }\n\n      if (this.allComments[i].replies) {\n        for (let j = 0; j < this.allComments[i].replies.length; j++) {\n          if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score >= 0) {\n            this.allComments[i].replies[j].score++;\n          }\n        }\n      }\n    }\n  }\n\n  decrementScore(id) {\n    for (let i = 0; i < this.allComments.length; i++) {\n      if (this.allComments[i].id === id && this.allComments[i].score > 0) {\n        this.allComments[i].score--;\n      }\n\n      if (this.allComments[i].replies) {\n        for (let j = 0; j < this.allComments[i].replies.length; j++) {\n          if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score > 0) {\n            this.allComments[i].replies[j].score--;\n          }\n        }\n      }\n    }\n  }\n\n  deleteComment(id) {\n    this.allComments = this.allComments.filter(comments => {\n      if (comments.replies) {\n        comments.replies = comments.replies.filter(replyComment => {\n          return replyComment.id !== id;\n        });\n      }\n\n      return comments.id !== id;\n    });\n  }\n\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  providers: [DataService]\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"sources":["C:/Users/user/Desktop/commentsAngular/comments/src/app/app.component.ts"],"names":["__decorate","Component","DataService","AppComponent","constructor","dataService","allInfo","allComments","load","getUsers","comments","ngOnInit","incrementScore","id","i","length","score","replies","j","decrementScore","deleteComment","filter","replyComment","selector","templateUrl","styleUrls","providers"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { DataService } from './data.service';\r\nlet AppComponent = class AppComponent {\r\n    constructor(dataService) {\r\n        this.dataService = dataService;\r\n        this.allInfo = {};\r\n        this.allComments = [];\r\n    }\r\n    async load() {\r\n        this.allInfo = await this.dataService.getUsers();\r\n        this.allComments = this.allInfo.comments;\r\n    }\r\n    ;\r\n    async ngOnInit() {\r\n        await this.load();\r\n    }\r\n    //increment function\r\n    incrementScore(id) {\r\n        for (let i = 0; i < this.allComments.length; i++) {\r\n            if (this.allComments[i].id === id && this.allComments[i].score >= 0) {\r\n                this.allComments[i].score++;\r\n            }\r\n            if (this.allComments[i].replies) {\r\n                for (let j = 0; j < this.allComments[i].replies.length; j++) {\r\n                    if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score >= 0) {\r\n                        this.allComments[i].replies[j].score++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    decrementScore(id) {\r\n        for (let i = 0; i < this.allComments.length; i++) {\r\n            if (this.allComments[i].id === id && this.allComments[i].score > 0) {\r\n                this.allComments[i].score--;\r\n            }\r\n            if (this.allComments[i].replies) {\r\n                for (let j = 0; j < this.allComments[i].replies.length; j++) {\r\n                    if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score > 0) {\r\n                        this.allComments[i].replies[j].score--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    deleteComment(id) {\r\n        this.allComments = this.allComments.filter((comments) => {\r\n            if (comments.replies) {\r\n                comments.replies = comments.replies.filter((replyComment) => {\r\n                    return replyComment.id !== id;\r\n                });\r\n            }\r\n            return comments.id !== id;\r\n        });\r\n    }\r\n};\r\nAppComponent = __decorate([\r\n    Component({\r\n        selector: 'app-root',\r\n        templateUrl: './app.component.html',\r\n        styleUrls: ['./app.component.scss'],\r\n        providers: [DataService]\r\n    })\r\n], AppComponent);\r\nexport { AppComponent };\r\n"]},"metadata":{},"sourceType":"module"}