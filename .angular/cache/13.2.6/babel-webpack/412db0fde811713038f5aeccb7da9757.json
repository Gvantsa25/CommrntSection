{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\user\\\\Desktop\\\\commentsAngular\\\\comments\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { DataService } from './data.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./data.service\";\n\nfunction AppComponent_div_0_ng_container_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-one-comment\", 8);\n    i0.ɵɵlistener(\"incrementValue\", function AppComponent_div_0_ng_container_2_div_1_Template_app_one_comment_incrementValue_1_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(3);\n      return ctx_r5.incrementScore($event);\n    })(\"incrementValue\", function AppComponent_div_0_ng_container_2_div_1_Template_app_one_comment_incrementValue_1_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext(3);\n      return ctx_r7.decrementScore($event);\n    })(\"deleteValue\", function AppComponent_div_0_ng_container_2_div_1_Template_app_one_comment_deleteValue_1_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return ctx_r8.deleteComment($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const repliesComment_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"commentInfo\", repliesComment_r4);\n  }\n}\n\nfunction AppComponent_div_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AppComponent_div_0_ng_container_2_div_1_Template, 2, 1, \"div\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const comment_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", comment_r1.replies);\n  }\n}\n\nfunction AppComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"app-one-comment\", 2);\n    i0.ɵɵlistener(\"incrementValue\", function AppComponent_div_0_Template_app_one_comment_incrementValue_1_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.incrementScore($event);\n    })(\"decrementValue\", function AppComponent_div_0_Template_app_one_comment_decrementValue_1_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.decrementScore($event);\n    })(\"deleteValue\", function AppComponent_div_0_Template_app_one_comment_deleteValue_1_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.deleteComment($event);\n    })(\"replyText\", function AppComponent_div_0_Template_app_one_comment_replyText_1_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.replyComment($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(2, AppComponent_div_0_ng_container_2_Template, 2, 1, \"ng-container\", 3);\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"textarea\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_0_Template_textarea_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.newCommentText = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_0_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.newComment();\n    });\n    i0.ɵɵtext(6, \"SEND\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const comment_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"commentInfo\", comment_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", comment_r1.replies);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newCommentText);\n  }\n}\n\nexport class AppComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.newCommentText = '';\n    this.allInfo = {};\n    this.allComments = [];\n  }\n\n  load() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.allInfo = yield _this.dataService.getUsers();\n      _this.allComments = _this.allInfo.comments;\n    })();\n  }\n\n  ngOnInit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.load();\n    })();\n  }\n\n  newComment() {\n    const date = new Date();\n    const newContent = {\n      id: Date.now(),\n      content: this.newCommentText,\n      createdAt: `${date.getDay()}/${date.getMonth() + 1}/${date.getFullYear()}`,\n      score: 0,\n      user: {\n        image: this.allInfo.currentUser.image,\n        username: this.allInfo.currentUser.username\n      },\n      replies: []\n    };\n    this.allComments.push(newContent);\n    this.newCommentText = '';\n  }\n\n  replyComment(obj) {\n    var _a;\n\n    const date = new Date();\n    const newContent = {\n      id: Date.now(),\n      content: obj.content,\n      createdAt: `${date.getDay()}/${date.getMonth() + 1}/${date.getFullYear()}`,\n      score: 0,\n      user: {\n        image: this.allInfo.currentUser.image,\n        username: this.allInfo.currentUser.username\n      }\n    };\n\n    for (let i = 0; i < this.allComments.length; i++) {\n      if (this.allComments[i].id === obj.id) {\n        (_a = this.allComments[i].replies) === null || _a === void 0 ? void 0 : _a.push(newContent);\n      }\n    }\n  } //increment function\n\n\n  incrementScore(id) {\n    var _a;\n\n    for (let i = 0; i < this.allComments.length; i++) {\n      if (this.allComments[i].id === id && this.allComments[i].score >= 0) {\n        this.allComments[i].score++;\n        this.allComments.sort((a, b) => a.score > b.score ? -1 : 1);\n      }\n\n      if (this.allComments[i].replies) {\n        for (let j = 0; j < ((_a = this.allComments[i].replies) === null || _a === void 0 ? void 0 : _a.length); j++) {\n          if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score >= 0) {\n            this.allComments[i].replies[j].score++;\n          }\n        }\n      }\n    }\n  } //decrement function\n\n\n  decrementScore(id) {\n    for (let i = 0; i < this.allComments.length; i++) {\n      if (this.allComments[i].id === id && this.allComments[i].score > 0) {\n        this.allComments[i].score--;\n        this.allComments.sort((a, b) => a.score > b.score ? -1 : 1);\n      }\n\n      if (this.allComments[i].replies) {\n        for (let j = 0; j < this.allComments[i].replies.length; j++) {\n          if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score > 0) {\n            this.allComments[i].replies[j].score--;\n          }\n        }\n      }\n    }\n  }\n\n  deleteComment(id) {\n    this.allComments = this.allComments.filter(comments => {\n      if (comments.replies) {\n        comments.replies = comments.replies.filter(replyComment => {\n          return replyComment.id !== id;\n        });\n      }\n\n      return comments.id !== id;\n    });\n  }\n\n}\n\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n};\n\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  features: [i0.ɵɵProvidersFeature([DataService])],\n  decls: 1,\n  vars: 1,\n  consts: [[\"id\", \"container\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"container\"], [3, \"commentInfo\", \"incrementValue\", \"decrementValue\", \"deleteValue\", \"replyText\"], [4, \"ngIf\"], [\"id\", \"newComment\"], [3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"commentInfo\", \"incrementValue\", \"deleteValue\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AppComponent_div_0_Template, 7, 3, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", ctx.allComments);\n    }\n  },\n  styles: [\"@import url(\\\"https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap\\\");\\n#newComment[_ngcontent-%COMP%] {\\n  position: absolute;\\n  bottom: 0px;\\n}\\n*[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  box-sizing: border-box;\\n}\\nbody[_ngcontent-%COMP%] {\\n  background: #eaecf1;\\n  font-size: 16px;\\n  font-family: Rubik, sans-serif;\\n  color: #324152;\\n}\\n#container[_ngcontent-%COMP%] {\\n  max-width: 800px;\\n  width: 100%;\\n  margin: 100px auto;\\n}\\n#container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  color: white;\\n  background: #5457b6;\\n  padding: 5px;\\n  border-radius: 5px;\\n  border: none;\\n  outline: none;\\n  text-transform: capitalize;\\n  cursor: pointer;\\n  transition: all 0.3s linear;\\n}\\n#container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background-color: #2e306b;\\n}\\n.comment-content[_ngcontent-%COMP%] {\\n  white-space: pre-wrap;\\n  \\n  white-space: -moz-pre-wrap;\\n  \\n  white-space: -pre-wrap;\\n  \\n  white-space: -o-pre-wrap;\\n  \\n  word-wrap: break-word;\\n  \\n  font-size: 15px;\\n  margin-top: 10px;\\n}\\n.comment[_ngcontent-%COMP%] {\\n  background-color: white;\\n  padding: 10px;\\n  border: 2px solid #eaecf1;\\n  margin-bottom: 10px;\\n  position: relative;\\n  display: flex;\\n}\\n.comment-reply[_ngcontent-%COMP%] {\\n  margin-left: 70px;\\n}\\n.comment-content-container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin: 10px;\\n}\\n.comment-votes[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  padding: 5px;\\n}\\n.comment-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n.user-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 30px;\\n  height: 30px;\\n}\\n@keyframes move {\\n  from {\\n    width: 0;\\n  }\\n  to {\\n    width: 100%;\\n  }\\n}\\n.update-comment-text[_ngcontent-%COMP%] {\\n  position: absolute;\\n  right: 0px;\\n  z-index: 2;\\n  background-color: white;\\n  box-shadow: 0 10px 15px rgba(0, 0, 0, 0.4);\\n  padding: 5px;\\n  width: 95%;\\n  border-radius: 10px;\\n  animation: move 0.3s ease-in-out;\\n}\\ntextarea[_ngcontent-%COMP%] {\\n  width: 100%;\\n  max-width: 100%;\\n  min-height: 100px;\\n  border: none;\\n  border: 2px solid #5457b6;\\n  border-radius: 10px;\\n  padding: 5px;\\n  margin-bottom: 10px;\\n  outline: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLUSwyRkFBQTtBQUxSO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0FBRUY7QUFHQTtFQUNFLFNBQUE7RUFDQSxVQUFBO0VBQ0Esc0JBQUE7QUFBRjtBQUdBO0VBQ0UsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsOEJBQUE7RUFDQSxjQUFBO0FBQUY7QUFHQTtFQUNFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FBQUY7QUFHQTtFQUNFLFlBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsMEJBQUE7RUFDQSxlQUFBO0VBQ0EsMkJBQUE7QUFBRjtBQUdBO0VBQ0UseUJBQUE7QUFBRjtBQUdBO0VBQ0UscUJBQUE7RUFBdUIsV0FBQTtFQUN2QiwwQkFBQTtFQUE0QixZQUFBO0VBQzVCLHNCQUFBO0VBQXdCLGFBQUE7RUFDeEIsd0JBQUE7RUFBMEIsWUFBQTtFQUMxQixxQkFBQTtFQUF1QixPQUFBO0VBQ3ZCLGVBQUE7RUFDQSxnQkFBQTtBQUtGO0FBRkE7RUFDRSx1QkFBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0FBS0Y7QUFGQTtFQUNFLGlCQUFBO0FBS0Y7QUFGQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBS0Y7QUFGQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsMkJBQUE7RUFDQSxZQUFBO0FBS0Y7QUFGQTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0FBS0Y7QUFGQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7QUFLRjtBQUZBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUFLRjtBQUZBO0VBQ0U7SUFDRSxRQUFBO0VBS0Y7RUFIQTtJQUNFLFdBQUE7RUFLRjtBQUNGO0FBRkE7RUFDRSxrQkFBQTtFQUNGLFVBQUE7RUFFRSxVQUFBO0VBQ0EsdUJBQUE7RUFDQSwwQ0FBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQ0FBQTtBQUdGO0FBQUE7RUFDRSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0FBR0YiLCJmaWxlIjoiYXBwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI25ld0NvbW1lbnR7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvdHRvbTogMHB4O1xyXG59XHJcblxyXG5AaW1wb3J0IHVybChcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9UnViaWs6d2dodEA0MDA7NTAwOzcwMCZkaXNwbGF5PXN3YXBcIik7XHJcblxyXG4qIHtcclxuICBtYXJnaW46IDA7XHJcbiAgcGFkZGluZzogMDtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcblxyXG5ib2R5IHtcclxuICBiYWNrZ3JvdW5kOiBoc2woMjIzLCAxOSUsIDkzJSk7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGZvbnQtZmFtaWx5OiBSdWJpaywgc2Fucy1zZXJpZjtcclxuICBjb2xvcjogaHNsKDIxMiwgMjQlLCAyNiUpO1xyXG59XHJcblxyXG4jY29udGFpbmVyIHtcclxuICBtYXgtd2lkdGg6IDgwMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbjogMTAwcHggYXV0bztcclxufVxyXG5cclxuI2NvbnRhaW5lciBidXR0b24ge1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBiYWNrZ3JvdW5kOiBoc2woMjM4LCA0MCUsIDUyJSk7XHJcbiAgcGFkZGluZzogNXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgbGluZWFyO1xyXG59XHJcblxyXG4jY29udGFpbmVyIGJ1dHRvbjpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDIzOCwgNDAlLCAzMCUpO1xyXG59XHJcblxyXG4uY29tbWVudC1jb250ZW50IHtcclxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7IC8qIFdlYmtpdCAqL1xyXG4gIHdoaXRlLXNwYWNlOiAtbW96LXByZS13cmFwOyAvKiBGaXJlZm94ICovXHJcbiAgd2hpdGUtc3BhY2U6IC1wcmUtd3JhcDsgLyogT3BlcmEgPDcgKi9cclxuICB3aGl0ZS1zcGFjZTogLW8tcHJlLXdyYXA7IC8qIE9wZXJhIDcgKi9cclxuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7IC8qIElFICovXHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG4gIG1hcmdpbi10b3A6IDEwcHg7XHJcbn1cclxuXHJcbi5jb21tZW50IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGJvcmRlcjogMnB4IHNvbGlkIGhzbCgyMjMsIDE5JSwgOTMlKTtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcblxyXG4uY29tbWVudC1yZXBseSB7XHJcbiAgbWFyZ2luLWxlZnQ6IDcwcHg7XHJcbn1cclxuXHJcbi5jb21tZW50LWNvbnRlbnQtY29udGFpbmVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW46IDEwcHg7XHJcbn1cclxuXHJcbi5jb21tZW50LXZvdGVzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgcGFkZGluZzogNXB4O1xyXG59XHJcblxyXG4uY29tbWVudC1oZWFkZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi51c2VyLWluZm8ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDEwcHg7XHJcbn1cclxuXHJcbi51c2VyLWluZm8gaW1nIHtcclxuICB3aWR0aDogMzBweDtcclxuICBoZWlnaHQ6IDMwcHg7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgbW92ZSB7XHJcbiAgZnJvbSB7XHJcbiAgICB3aWR0aDogMDtcclxuICB9XHJcbiAgdG8ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG59XHJcblxyXG4udXBkYXRlLWNvbW1lbnQtdGV4dCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG5yaWdodDogMHB4O1xyXG4gIC8vIHRvcDogNTAlO1xyXG4gIHotaW5kZXg6IDI7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgYm94LXNoYWRvdzogMCAxMHB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjQpO1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICB3aWR0aDogOTUlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgYW5pbWF0aW9uOiBtb3ZlIDAuM3MgZWFzZS1pbi1vdXQ7XHJcbn1cclxuXHJcbnRleHRhcmVhIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgbWluLWhlaWdodDogMTAwcHg7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJvcmRlcjogMnB4IHNvbGlkIGhzbCgyMzgsIDQwJSwgNTIlKTtcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuIl19 */\"]\n});","map":{"version":3,"sources":["C:/Users/user/Desktop/commentsAngular/comments/src/app/app.component.ts"],"names":["DataService","i0","i1","AppComponent_div_0_ng_container_2_div_1_Template","rf","ctx","_r6","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","AppComponent_div_0_ng_container_2_div_1_Template_app_one_comment_incrementValue_1_listener","$event","ɵɵrestoreView","ctx_r5","ɵɵnextContext","incrementScore","ctx_r7","decrementScore","AppComponent_div_0_ng_container_2_div_1_Template_app_one_comment_deleteValue_1_listener","ctx_r8","deleteComment","ɵɵelementEnd","repliesComment_r4","$implicit","ɵɵadvance","ɵɵproperty","AppComponent_div_0_ng_container_2_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵelementContainerEnd","comment_r1","replies","AppComponent_div_0_Template","_r11","AppComponent_div_0_Template_app_one_comment_incrementValue_1_listener","ctx_r10","AppComponent_div_0_Template_app_one_comment_decrementValue_1_listener","ctx_r12","AppComponent_div_0_Template_app_one_comment_deleteValue_1_listener","ctx_r13","AppComponent_div_0_Template_app_one_comment_replyText_1_listener","ctx_r14","replyComment","AppComponent_div_0_Template_textarea_ngModelChange_4_listener","ctx_r15","newCommentText","AppComponent_div_0_Template_button_click_5_listener","ctx_r16","newComment","ɵɵtext","ctx_r0","AppComponent","constructor","dataService","allInfo","allComments","load","getUsers","comments","ngOnInit","date","Date","newContent","id","now","content","createdAt","getDay","getMonth","getFullYear","score","user","image","currentUser","username","push","obj","_a","i","length","sort","a","b","j","filter","ɵfac","AppComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","AppComponent_Template","styles"],"mappings":"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","sourcesContent":["import { DataService } from './data.service';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./data.service\";\r\nfunction AppComponent_div_0_ng_container_2_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r6 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-one-comment\", 8);\r\n    i0.ɵɵlistener(\"incrementValue\", function AppComponent_div_0_ng_container_2_div_1_Template_app_one_comment_incrementValue_1_listener($event) { i0.ɵɵrestoreView(_r6); const ctx_r5 = i0.ɵɵnextContext(3); return ctx_r5.incrementScore($event); })(\"incrementValue\", function AppComponent_div_0_ng_container_2_div_1_Template_app_one_comment_incrementValue_1_listener($event) { i0.ɵɵrestoreView(_r6); const ctx_r7 = i0.ɵɵnextContext(3); return ctx_r7.decrementScore($event); })(\"deleteValue\", function AppComponent_div_0_ng_container_2_div_1_Template_app_one_comment_deleteValue_1_listener($event) { i0.ɵɵrestoreView(_r6); const ctx_r8 = i0.ɵɵnextContext(3); return ctx_r8.deleteComment($event); });\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const repliesComment_r4 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"commentInfo\", repliesComment_r4);\r\n} }\r\nfunction AppComponent_div_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtemplate(1, AppComponent_div_0_ng_container_2_div_1_Template, 2, 1, \"div\", 7);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const comment_r1 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", comment_r1.replies);\r\n} }\r\nfunction AppComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    const _r11 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"app-one-comment\", 2);\r\n    i0.ɵɵlistener(\"incrementValue\", function AppComponent_div_0_Template_app_one_comment_incrementValue_1_listener($event) { i0.ɵɵrestoreView(_r11); const ctx_r10 = i0.ɵɵnextContext(); return ctx_r10.incrementScore($event); })(\"decrementValue\", function AppComponent_div_0_Template_app_one_comment_decrementValue_1_listener($event) { i0.ɵɵrestoreView(_r11); const ctx_r12 = i0.ɵɵnextContext(); return ctx_r12.decrementScore($event); })(\"deleteValue\", function AppComponent_div_0_Template_app_one_comment_deleteValue_1_listener($event) { i0.ɵɵrestoreView(_r11); const ctx_r13 = i0.ɵɵnextContext(); return ctx_r13.deleteComment($event); })(\"replyText\", function AppComponent_div_0_Template_app_one_comment_replyText_1_listener($event) { i0.ɵɵrestoreView(_r11); const ctx_r14 = i0.ɵɵnextContext(); return ctx_r14.replyComment($event); });\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(2, AppComponent_div_0_ng_container_2_Template, 2, 1, \"ng-container\", 3);\r\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"textarea\", 5);\r\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_0_Template_textarea_ngModelChange_4_listener($event) { i0.ɵɵrestoreView(_r11); const ctx_r15 = i0.ɵɵnextContext(); return ctx_r15.newCommentText = $event; });\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"button\", 6);\r\n    i0.ɵɵlistener(\"click\", function AppComponent_div_0_Template_button_click_5_listener() { i0.ɵɵrestoreView(_r11); const ctx_r16 = i0.ɵɵnextContext(); return ctx_r16.newComment(); });\r\n    i0.ɵɵtext(6, \"SEND\");\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const comment_r1 = ctx.$implicit;\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"commentInfo\", comment_r1);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", comment_r1.replies);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newCommentText);\r\n} }\r\nexport class AppComponent {\r\n    constructor(dataService) {\r\n        this.dataService = dataService;\r\n        this.newCommentText = '';\r\n        this.allInfo = {};\r\n        this.allComments = [];\r\n    }\r\n    async load() {\r\n        this.allInfo = await this.dataService.getUsers();\r\n        this.allComments = this.allInfo.comments;\r\n    }\r\n    ;\r\n    async ngOnInit() {\r\n        await this.load();\r\n    }\r\n    newComment() {\r\n        const date = new Date();\r\n        const newContent = {\r\n            id: Date.now(),\r\n            content: this.newCommentText,\r\n            createdAt: `${date.getDay()}/${date.getMonth() + 1}/${date.getFullYear()}`,\r\n            score: 0,\r\n            user: {\r\n                image: this.allInfo.currentUser.image,\r\n                username: this.allInfo.currentUser.username,\r\n            },\r\n            replies: [],\r\n        };\r\n        this.allComments.push(newContent);\r\n        this.newCommentText = '';\r\n    }\r\n    replyComment(obj) {\r\n        var _a;\r\n        const date = new Date();\r\n        const newContent = {\r\n            id: Date.now(),\r\n            content: obj.content,\r\n            createdAt: `${date.getDay()}/${date.getMonth() + 1}/${date.getFullYear()}`,\r\n            score: 0,\r\n            user: {\r\n                image: this.allInfo.currentUser.image,\r\n                username: this.allInfo.currentUser.username,\r\n            }\r\n        };\r\n        for (let i = 0; i < this.allComments.length; i++) {\r\n            if (this.allComments[i].id === obj.id) {\r\n                (_a = this.allComments[i].replies) === null || _a === void 0 ? void 0 : _a.push(newContent);\r\n            }\r\n        }\r\n    }\r\n    //increment function\r\n    incrementScore(id) {\r\n        var _a;\r\n        for (let i = 0; i < this.allComments.length; i++) {\r\n            if (this.allComments[i].id === id && this.allComments[i].score >= 0) {\r\n                this.allComments[i].score++;\r\n                this.allComments.sort((a, b) => (a.score > b.score ? -1 : 1));\r\n            }\r\n            if (this.allComments[i].replies) {\r\n                for (let j = 0; j < ((_a = this.allComments[i].replies) === null || _a === void 0 ? void 0 : _a.length); j++) {\r\n                    if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score >= 0) {\r\n                        this.allComments[i].replies[j].score++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    //decrement function\r\n    decrementScore(id) {\r\n        for (let i = 0; i < this.allComments.length; i++) {\r\n            if (this.allComments[i].id === id && this.allComments[i].score > 0) {\r\n                this.allComments[i].score--;\r\n                this.allComments.sort((a, b) => (a.score > b.score ? -1 : 1));\r\n            }\r\n            if (this.allComments[i].replies) {\r\n                for (let j = 0; j < this.allComments[i].replies.length; j++) {\r\n                    if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score > 0) {\r\n                        this.allComments[i].replies[j].score--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    deleteComment(id) {\r\n        this.allComments = this.allComments.filter((comments) => {\r\n            if (comments.replies) {\r\n                comments.replies = comments.replies.filter((replyComment) => {\r\n                    return replyComment.id !== id;\r\n                });\r\n            }\r\n            return comments.id !== id;\r\n        });\r\n    }\r\n}\r\nAppComponent.ɵfac = function AppComponent_Factory(t) { return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.DataService)); };\r\nAppComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AppComponent, selectors: [[\"app-root\"]], features: [i0.ɵɵProvidersFeature([DataService])], decls: 1, vars: 1, consts: [[\"id\", \"container\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"container\"], [3, \"commentInfo\", \"incrementValue\", \"decrementValue\", \"deleteValue\", \"replyText\"], [4, \"ngIf\"], [\"id\", \"newComment\"], [3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"commentInfo\", \"incrementValue\", \"deleteValue\"]], template: function AppComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, AppComponent_div_0_Template, 7, 3, \"div\", 0);\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.allComments);\r\n    } }, styles: [\"@import url(\\\"https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap\\\");\\n#newComment[_ngcontent-%COMP%] {\\n  position: absolute;\\n  bottom: 0px;\\n}\\n*[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  box-sizing: border-box;\\n}\\nbody[_ngcontent-%COMP%] {\\n  background: #eaecf1;\\n  font-size: 16px;\\n  font-family: Rubik, sans-serif;\\n  color: #324152;\\n}\\n#container[_ngcontent-%COMP%] {\\n  max-width: 800px;\\n  width: 100%;\\n  margin: 100px auto;\\n}\\n#container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  color: white;\\n  background: #5457b6;\\n  padding: 5px;\\n  border-radius: 5px;\\n  border: none;\\n  outline: none;\\n  text-transform: capitalize;\\n  cursor: pointer;\\n  transition: all 0.3s linear;\\n}\\n#container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background-color: #2e306b;\\n}\\n.comment-content[_ngcontent-%COMP%] {\\n  white-space: pre-wrap;\\n  \\n  white-space: -moz-pre-wrap;\\n  \\n  white-space: -pre-wrap;\\n  \\n  white-space: -o-pre-wrap;\\n  \\n  word-wrap: break-word;\\n  \\n  font-size: 15px;\\n  margin-top: 10px;\\n}\\n.comment[_ngcontent-%COMP%] {\\n  background-color: white;\\n  padding: 10px;\\n  border: 2px solid #eaecf1;\\n  margin-bottom: 10px;\\n  position: relative;\\n  display: flex;\\n}\\n.comment-reply[_ngcontent-%COMP%] {\\n  margin-left: 70px;\\n}\\n.comment-content-container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin: 10px;\\n}\\n.comment-votes[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  padding: 5px;\\n}\\n.comment-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n.user-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 30px;\\n  height: 30px;\\n}\\n@keyframes move {\\n  from {\\n    width: 0;\\n  }\\n  to {\\n    width: 100%;\\n  }\\n}\\n.update-comment-text[_ngcontent-%COMP%] {\\n  position: absolute;\\n  right: 0px;\\n  z-index: 2;\\n  background-color: white;\\n  box-shadow: 0 10px 15px rgba(0, 0, 0, 0.4);\\n  padding: 5px;\\n  width: 95%;\\n  border-radius: 10px;\\n  animation: move 0.3s ease-in-out;\\n}\\ntextarea[_ngcontent-%COMP%] {\\n  width: 100%;\\n  max-width: 100%;\\n  min-height: 100px;\\n  border: none;\\n  border: 2px solid #5457b6;\\n  border-radius: 10px;\\n  padding: 5px;\\n  margin-bottom: 10px;\\n  outline: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLUSwyRkFBQTtBQUxSO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0FBRUY7QUFHQTtFQUNFLFNBQUE7RUFDQSxVQUFBO0VBQ0Esc0JBQUE7QUFBRjtBQUdBO0VBQ0UsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsOEJBQUE7RUFDQSxjQUFBO0FBQUY7QUFHQTtFQUNFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FBQUY7QUFHQTtFQUNFLFlBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsMEJBQUE7RUFDQSxlQUFBO0VBQ0EsMkJBQUE7QUFBRjtBQUdBO0VBQ0UseUJBQUE7QUFBRjtBQUdBO0VBQ0UscUJBQUE7RUFBdUIsV0FBQTtFQUN2QiwwQkFBQTtFQUE0QixZQUFBO0VBQzVCLHNCQUFBO0VBQXdCLGFBQUE7RUFDeEIsd0JBQUE7RUFBMEIsWUFBQTtFQUMxQixxQkFBQTtFQUF1QixPQUFBO0VBQ3ZCLGVBQUE7RUFDQSxnQkFBQTtBQUtGO0FBRkE7RUFDRSx1QkFBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0FBS0Y7QUFGQTtFQUNFLGlCQUFBO0FBS0Y7QUFGQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBS0Y7QUFGQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsMkJBQUE7RUFDQSxZQUFBO0FBS0Y7QUFGQTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0FBS0Y7QUFGQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7QUFLRjtBQUZBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUFLRjtBQUZBO0VBQ0U7SUFDRSxRQUFBO0VBS0Y7RUFIQTtJQUNFLFdBQUE7RUFLRjtBQUNGO0FBRkE7RUFDRSxrQkFBQTtFQUNGLFVBQUE7RUFFRSxVQUFBO0VBQ0EsdUJBQUE7RUFDQSwwQ0FBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQ0FBQTtBQUdGO0FBQUE7RUFDRSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0FBR0YiLCJmaWxlIjoiYXBwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI25ld0NvbW1lbnR7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvdHRvbTogMHB4O1xyXG59XHJcblxyXG5AaW1wb3J0IHVybChcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9UnViaWs6d2dodEA0MDA7NTAwOzcwMCZkaXNwbGF5PXN3YXBcIik7XHJcblxyXG4qIHtcclxuICBtYXJnaW46IDA7XHJcbiAgcGFkZGluZzogMDtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcblxyXG5ib2R5IHtcclxuICBiYWNrZ3JvdW5kOiBoc2woMjIzLCAxOSUsIDkzJSk7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGZvbnQtZmFtaWx5OiBSdWJpaywgc2Fucy1zZXJpZjtcclxuICBjb2xvcjogaHNsKDIxMiwgMjQlLCAyNiUpO1xyXG59XHJcblxyXG4jY29udGFpbmVyIHtcclxuICBtYXgtd2lkdGg6IDgwMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbjogMTAwcHggYXV0bztcclxufVxyXG5cclxuI2NvbnRhaW5lciBidXR0b24ge1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBiYWNrZ3JvdW5kOiBoc2woMjM4LCA0MCUsIDUyJSk7XHJcbiAgcGFkZGluZzogNXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgbGluZWFyO1xyXG59XHJcblxyXG4jY29udGFpbmVyIGJ1dHRvbjpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDIzOCwgNDAlLCAzMCUpO1xyXG59XHJcblxyXG4uY29tbWVudC1jb250ZW50IHtcclxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7IC8qIFdlYmtpdCAqL1xyXG4gIHdoaXRlLXNwYWNlOiAtbW96LXByZS13cmFwOyAvKiBGaXJlZm94ICovXHJcbiAgd2hpdGUtc3BhY2U6IC1wcmUtd3JhcDsgLyogT3BlcmEgPDcgKi9cclxuICB3aGl0ZS1zcGFjZTogLW8tcHJlLXdyYXA7IC8qIE9wZXJhIDcgKi9cclxuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7IC8qIElFICovXHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG4gIG1hcmdpbi10b3A6IDEwcHg7XHJcbn1cclxuXHJcbi5jb21tZW50IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGJvcmRlcjogMnB4IHNvbGlkIGhzbCgyMjMsIDE5JSwgOTMlKTtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcblxyXG4uY29tbWVudC1yZXBseSB7XHJcbiAgbWFyZ2luLWxlZnQ6IDcwcHg7XHJcbn1cclxuXHJcbi5jb21tZW50LWNvbnRlbnQtY29udGFpbmVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW46IDEwcHg7XHJcbn1cclxuXHJcbi5jb21tZW50LXZvdGVzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgcGFkZGluZzogNXB4O1xyXG59XHJcblxyXG4uY29tbWVudC1oZWFkZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi51c2VyLWluZm8ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDEwcHg7XHJcbn1cclxuXHJcbi51c2VyLWluZm8gaW1nIHtcclxuICB3aWR0aDogMzBweDtcclxuICBoZWlnaHQ6IDMwcHg7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgbW92ZSB7XHJcbiAgZnJvbSB7XHJcbiAgICB3aWR0aDogMDtcclxuICB9XHJcbiAgdG8ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG59XHJcblxyXG4udXBkYXRlLWNvbW1lbnQtdGV4dCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG5yaWdodDogMHB4O1xyXG4gIC8vIHRvcDogNTAlO1xyXG4gIHotaW5kZXg6IDI7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgYm94LXNoYWRvdzogMCAxMHB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjQpO1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICB3aWR0aDogOTUlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgYW5pbWF0aW9uOiBtb3ZlIDAuM3MgZWFzZS1pbi1vdXQ7XHJcbn1cclxuXHJcbnRleHRhcmVhIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgbWluLWhlaWdodDogMTAwcHg7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJvcmRlcjogMnB4IHNvbGlkIGhzbCgyMzgsIDQwJSwgNTIlKTtcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuIl19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}