{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\user\\\\Desktop\\\\commentsAngular\\\\comments\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { DataService } from './data.service';\nlet AppComponent = class AppComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.allInfo = {};\n    this.allComments = [];\n  }\n\n  load() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.allInfo = yield _this.dataService.getUsers();\n      _this.allComments = _this.allInfo.comments;\n    })();\n  }\n\n  ngOnInit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.load();\n    })();\n  }\n\n  replyComment(obj) {\n    const date = new Date();\n    const newContent = {\n      id: Date.now(),\n      content: obj.content,\n      creadetAt: `${date.getDay()}/${date.getMonth() + 1}/${date.getFullYear()}`,\n      score: 0,\n      user: {\n        image: this.allInfo.currentUser.image,\n        username: this.allInfo.currentUser.username\n      }\n    };\n\n    for (let i = 0; i < this.allComments.length; i++) {\n      if (this.allComments[i].id === obj.id) {\n        this.allComments[i].replies.push(newContent);\n      }\n    }\n  } //increment function\n\n\n  incrementScore(id) {\n    for (let i = 0; i < this.allComments.length; i++) {\n      if (this.allComments[i].id === id && this.allComments[i].score >= 0) {\n        this.allComments[i].score++;\n      }\n\n      if (this.allComments[i].replies) {\n        for (let j = 0; j < this.allComments[i].replies.length; j++) {\n          if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score >= 0) {\n            this.allComments[i].replies[j].score++;\n          }\n        }\n      }\n    }\n  } //decrement function\n\n\n  decrementScore(id) {\n    for (let i = 0; i < this.allComments.length; i++) {\n      if (this.allComments[i].id === id && this.allComments[i].score > 0) {\n        this.allComments[i].score--;\n      }\n\n      if (this.allComments[i].replies) {\n        for (let j = 0; j < this.allComments[i].replies.length; j++) {\n          if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score > 0) {\n            this.allComments[i].replies[j].score--;\n          }\n        }\n      }\n    }\n  }\n\n  deleteComment(id) {\n    this.allComments = this.allComments.filter(comments => {\n      if (comments.replies) {\n        comments.replies = comments.replies.filter(replyComment => {\n          return replyComment.id !== id;\n        });\n      }\n\n      return comments.id !== id;\n    });\n  }\n\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  providers: [DataService]\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"sources":["C:/Users/user/Desktop/commentsAngular/comments/src/app/app.component.ts"],"names":["__decorate","Component","DataService","AppComponent","constructor","dataService","allInfo","allComments","load","getUsers","comments","ngOnInit","replyComment","obj","date","Date","newContent","id","now","content","creadetAt","getDay","getMonth","getFullYear","score","user","image","currentUser","username","i","length","replies","push","incrementScore","j","decrementScore","deleteComment","filter","selector","templateUrl","styleUrls","providers"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { DataService } from './data.service';\r\nlet AppComponent = class AppComponent {\r\n    constructor(dataService) {\r\n        this.dataService = dataService;\r\n        this.allInfo = {};\r\n        this.allComments = [];\r\n    }\r\n    async load() {\r\n        this.allInfo = await this.dataService.getUsers();\r\n        this.allComments = this.allInfo.comments;\r\n    }\r\n    ;\r\n    async ngOnInit() {\r\n        await this.load();\r\n    }\r\n    replyComment(obj) {\r\n        const date = new Date();\r\n        const newContent = {\r\n            id: Date.now(),\r\n            content: obj.content,\r\n            creadetAt: `${date.getDay()}/${date.getMonth() + 1}/${date.getFullYear()}`,\r\n            score: 0,\r\n            user: {\r\n                image: this.allInfo.currentUser.image,\r\n                username: this.allInfo.currentUser.username,\r\n            }\r\n        };\r\n        for (let i = 0; i < this.allComments.length; i++) {\r\n            if (this.allComments[i].id === obj.id) {\r\n                this.allComments[i].replies.push(newContent);\r\n            }\r\n        }\r\n    }\r\n    //increment function\r\n    incrementScore(id) {\r\n        for (let i = 0; i < this.allComments.length; i++) {\r\n            if (this.allComments[i].id === id && this.allComments[i].score >= 0) {\r\n                this.allComments[i].score++;\r\n            }\r\n            if (this.allComments[i].replies) {\r\n                for (let j = 0; j < this.allComments[i].replies.length; j++) {\r\n                    if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score >= 0) {\r\n                        this.allComments[i].replies[j].score++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    //decrement function\r\n    decrementScore(id) {\r\n        for (let i = 0; i < this.allComments.length; i++) {\r\n            if (this.allComments[i].id === id && this.allComments[i].score > 0) {\r\n                this.allComments[i].score--;\r\n            }\r\n            if (this.allComments[i].replies) {\r\n                for (let j = 0; j < this.allComments[i].replies.length; j++) {\r\n                    if (this.allComments[i].replies[j].id === id && this.allComments[i].replies[j].score > 0) {\r\n                        this.allComments[i].replies[j].score--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    deleteComment(id) {\r\n        this.allComments = this.allComments.filter((comments) => {\r\n            if (comments.replies) {\r\n                comments.replies = comments.replies.filter((replyComment) => {\r\n                    return replyComment.id !== id;\r\n                });\r\n            }\r\n            return comments.id !== id;\r\n        });\r\n    }\r\n};\r\nAppComponent = __decorate([\r\n    Component({\r\n        selector: 'app-root',\r\n        templateUrl: './app.component.html',\r\n        styleUrls: ['./app.component.scss'],\r\n        providers: [DataService]\r\n    })\r\n], AppComponent);\r\nexport { AppComponent };\r\n"]},"metadata":{},"sourceType":"module"}